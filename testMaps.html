<!DOCTYPE html>
<html>

<head>
  <title>World Map</title>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://d3js.org/topojson.v2.min.js"></script>
  <style>
    path {
      fill: lightgrey;
      stroke: #000;
    }
    .foreground {
      fill: none;
      stroke: #333;
      stroke-width: 1.5px;
    }
  </style>
</head>

<body>
  <svg width="960" height="600"></svg>
  <script>

    const svg = d3.select("svg")
    const myProjection = d3.geoMercator()
                            .center([-87.5,41.85])
                            .scale( 50000 )

    //path is like our main map group
    const path = d3.geoPath().projection(myProjection)

    function drawMap(err, dataSource) {
      if (err) throw err

      //giving path the foreground class
      svg.append("path")
        .attr("class", "foreground")
        .attr("d", path);
      //adding a group element and assigning it the data and path
      svg.append("g")
        .selectAll("path")
        .data(dataSource.features)
        .enter().append("path")
        .attr("d", path);
    }
    //this will call drawMap() function and give it the communityAreas data
    d3.json("communityAreas.geojson", drawMap)

  </script>
</body>

</html>